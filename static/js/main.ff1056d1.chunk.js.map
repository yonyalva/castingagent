{"version":3,"sources":["components/header.js","components/Auth.js","components/movies.js","components/actors.js","components/sidebar.js","components/footer.js","components/addMovie.js","components/addActor.js","components/Callback.js","App.js","serviceWorker.js","index.js"],"names":["Head","react_default","a","createElement","Component","auth0Client","Auth","Object","classCallCheck","this","auth0","WebAuth","domain","audience","clientID","redirectUri","responseType","scope","getProfile","bind","handleAuthentication","isAuthenticated","signIn","signOut","profile","idToken","localStorage","getItem","payload","Date","getTime","expiresAt","authorize","fragment","window","location","hash","substr","split","token","set_jwt","setItem","decodeJWT","jwt_decode","_this","Promise","resolve","reject","parseHash","err","authResult","setSession","idTokenPayload","exp","logout","returnTo","removeItem","_this2","checkSession","permission","permissions","length","indexOf","Movie","props","possibleConstructorReturn","getPrototypeOf","call","getMovies","$","ajax","url","type","success","result","setState","movies","error","alert","movieAction","id","action","confirm","concat","headers","Authorization","getToken","updateMovie","event","preventDefault","dataType","contentType","data","JSON","stringify","title","state","release_date","xhrFields","withCredentials","crossDomain","reload","handleChange","defineProperty","target","name","value","showform","marker","filter","m","document","querySelector","show","hide","load_jwts","check_token_fragment","uri","href","origin","className","can","onClick","navTo","onSubmit","onChange","required","size","readOnly","map","q","ind","key","src","alt","Actor","getActors","actors","actorAction","updateActor","age","gender","SideBar","align","role","tabIndex","onKeyPress","history","replace","Foot","AddMovie","submitMovie","getElementById","reset","AddActor","submitActor","Callback","withRouter","App","checkingSession","pathname","silentAuth","forceUpdate","_context","t0","console","log","header","react_router_dom","react_router","path","exact","component","sidebar","footer","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","ReactDOM","render","src_App_0","URL","process","addEventListener","fetch","response","get","status","ready","unregister","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.ff1056d1.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\n\r\nclass Head extends Component {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<header>\r\n\t\t\t<nav>\r\n\t\t\t  <h1>CASTING AGENCY</h1>\r\n\t\t\t</nav>\r\n\t\t  </header>\r\n\t\t);\r\n\t  }\r\n  }\r\n\r\n  export default Head;","import auth0 from 'auth0-js';\nimport jwt_decode from 'jwt-decode'\n\nconst JWTS_LOCAL_KEY = 'JWTS_LOCAL_KEY';\n\nclass Auth {\n  constructor() {\n    this.auth0 = new auth0.WebAuth({\n      domain: 'dev-6id39aor.auth0.com',\n      audience: 'castingapi',\n      clientID: 'KdG7NgFNyBEdKo0SqE2WRWciKmyDSUqe',\n      redirectUri: 'http://localhost:3000/callback',\n      responseType: 'token id_token',\n      scope: 'openid profile'\n    });\n\n    this.getProfile = this.getProfile.bind(this);\n    this.handleAuthentication = this.handleAuthentication.bind(this);\n    this.isAuthenticated = this.isAuthenticated.bind(this);\n    this.signIn = this.signIn.bind(this);\n    this.signOut = this.signOut.bind(this);\n  }\n\n  getProfile() {\n    return this.profile;\n  }\n\n  getIdToken() {\n    return this.idToken;\n  }\n\n  getToken() {\n    return localStorage.getItem('JWTS_LOCAL_KEY');\n  }\n\n  getPermission() {\n    return this.payload;\n  }\n\n  isAuthenticated() {\n    return new Date().getTime() < this.expiresAt;\n  }\n\n  signIn() {\n    this.auth0.authorize();\n  }\n\n   // invoked in app.component on load YA\n  check_token_fragment() {\n    // parse the fragment\n    const fragment = window.location.hash.substr(1).split('&')[0].split('=');\n    // check if the fragment includes the access token\n    if ( fragment[0] === 'access_token' ) {\n      // add the access token to the jwt\n      this.token = fragment[1];\n      // save jwts to localstore\n      this.set_jwt();\n    }\n  }\n  //  YA\n  set_jwt() {\n    localStorage.setItem(JWTS_LOCAL_KEY, this.token);\n    if (this.token) {\n      this.decodeJWT(this.token);\n    }\n  }\n\n  load_jwts() {\n    this.token = localStorage.getItem(JWTS_LOCAL_KEY) || null;\n    if (this.token) {\n      this.decodeJWT(this.token);\n    }\n  }\n\n  decodeJWT(token: string) {\n    // const jwtservice = new JwtHelperService();\n    this.payload = jwt_decode(this.token);\n    return this.payload;\n  }\n\n  handleAuthentication() {\n    return new Promise((resolve, reject) => {\n      this.auth0.parseHash((err, authResult) => {\n        if (err) return reject(err);\n        if (!authResult || !authResult.idToken) {\n          return reject(err);\n        }\n        this.setSession(authResult);\n        resolve();\n      });\n    })\n  }\n\n  setSession(authResult) {\n    this.idToken = authResult.idToken;\n    this.profile = authResult.idTokenPayload;\n    // set the time that the id token will expire at\n    this.expiresAt = authResult.idTokenPayload.exp * 1000;\n  }\n\n  signOut() {\n    this.auth0.logout({\n      returnTo: 'http://localhost:3000',\n      clientID: 'KdG7NgFNyBEdKo0SqE2WRWciKmyDSUqe',\n    });\n    localStorage.removeItem('JWTS_LOCAL_KEY');\n  }\n\n  silentAuth() {\n    return new Promise((resolve, reject) => {\n      this.auth0.checkSession({}, (err, authResult) => {\n        if (err) return reject(err);\n        this.setSession(authResult);\n        resolve();\n      });\n    });\n  }\n\n  can(permission: string) {\n    return this.payload && this.payload.permissions && this.payload.permissions.length && this.payload.permissions.indexOf(permission) >= 0;\n  }\n\n}\n\nconst auth0Client = new Auth();\n\nexport default auth0Client;\n","import React, { Component } from 'react';\r\nimport $ from 'jquery';\r\nimport auth0Client from './Auth';\r\n\r\nclass Movie extends Component {\r\n\r\n  constructor(props){\r\n    super(props)\r\n    this.state = {\r\n      movies: []\r\n    }\r\n  }\r\n\r\n  async componentDidMount() {\r\n    await this.getMovies();\r\n    await auth0Client.load_jwts();\r\n    await auth0Client.check_token_fragment();\r\n  }\r\n\r\n  getMovies = () => {\r\n    $.ajax({\r\n      url: `https://castingya.herokuapp.com/movies`,\r\n      type: \"GET\",\r\n      success: (result) => {\r\n        this.setState({\r\n          movies: result.movies })\r\n        return;\r\n      },\r\n      error: (error) => {\r\n        alert('Unable to load movies. Please try your request again')\r\n        return;\r\n      }\r\n    })\r\n  }\r\n\r\n  movieAction = (id) => (action) => {\r\n    if(action === 'DELETE') {\r\n      if(window.confirm('are you sure you want to delete this movie?')) {\r\n        $.ajax({\r\n          url: `https://castingya.herokuapp.com/movies/${id}`,\r\n          headers: { 'Authorization': `Bearer ${auth0Client.getToken()}` },\r\n          type: \"DELETE\",\r\n          success: (result) => {\r\n            this.getMovies();\r\n          },\r\n          error: (error) => {\r\n            alert('Unable to delete the movie. Please try your request again')\r\n            return;\r\n          }\r\n        })\r\n      }\r\n    }\r\n  }\r\n\r\n  updateMovie = (id) => (event) => {\r\n    event.preventDefault();\r\n    $.ajax({\r\n      url: `https://castingya.herokuapp.com/movies/${id}`,\r\n      headers: { 'Authorization': `Bearer ${auth0Client.getToken()}` },\r\n      type: \"PATCH\",\r\n      dataType: 'json',\r\n      contentType: 'application/json',\r\n      data: JSON.stringify({\r\n        title: this.state.title,\r\n        release_date: this.state.release_date,\r\n      }),\r\n      xhrFields: {\r\n        withCredentials: true\r\n      },\r\n      crossDomain: true,\r\n      success: (result) => {\r\n        window.location.reload(false);\r\n        return;\r\n      },\r\n      error: (error) => {\r\n        alert('Unable to update the movie. Please try your request again')\r\n        return;\r\n      }\r\n    })\r\n  }\r\n\r\n  navTo(uri){\r\n    window.location.href = window.location.origin + uri;\r\n  }\r\n\r\n  handleChange = (event) => {\r\n    this.setState({[event.target.name]: event.target.value})\r\n  }\r\n\r\n  showform = (location) => {\r\n  let marker = this.state.movies.filter(m => m.id === location.id)[0];\r\n  \r\n\tdocument.querySelector(\"#title\").value = marker.title;\r\n  document.querySelector(\"#release_date\").value = marker.release_date;\r\n  const id = document.querySelector(\"#id\").value = marker.id;\r\n    $('.form-visible').show();\r\n    $('.dborder3').hide();\r\n    $('.button-visible').hide();\r\n    this.setState({ id });\r\n  }\r\n\r\n\trender() {\r\n    const { id } = this.state;\r\n\t\treturn (\t\t\r\n\t\t<div id=\"display\">\t\r\n\t\t<div className=\"dborder boxshw cardwi\" id='someDivId'>\r\n    {\r\n        auth0Client.can('post:movies') &&\r\n    <button type=\"button\" className='button-visible roles-visible' onClick={() => {this.navTo('/addmovie')}} title=\"add a new movie\">Add a new movie</button>\r\n    }\r\n   <form className=\"form-view form-visible\" onSubmit={this.updateMovie(id)}>\r\n              <label>\r\n                Title\r\n                <input type=\"text\" name=\"title\" id='title' onChange={this.handleChange} required />\r\n              </label>\r\n              <br></br>\r\n              <label>\r\n                Release date\r\n                <input type=\"date\" name=\"release_date\" id=\"release_date\" onChange={this.handleChange} required />\r\n              </label>\r\n              <br></br>\r\n              <label>\r\n                Id\r\n                <input type=\"text\" size='4' name=\"id\" id=\"id\" onChange={this.handleChange} readOnly />\r\n              </label>\r\n              <input type=\"submit\" className=\"button\" value=\"Save\" />\r\n            </form>\r\n\t\t{this.state.movies && this.state.movies.map((q, ind) => (\r\n\t\t\t<div key={q.id}>\r\n\t\t\t<div className=\"dborder3\">\t\r\n\t\t\t<ul className=\"listnone\">\r\n\t\t\t\t<li><span className=\"listbold\">Title</span>: <span>{q.title}</span>\r\n        {auth0Client.can('patch:movies') && <img src=\"images/edit.png\" alt=\"edit\" title=\"Edit this movie\" className=\"edit\" onClick={() => this.showform(q)}></img>}\r\n        </li>\r\n        <li><span className=\"listbold\">Release date</span>: <span>{q.release_date}</span>\r\n        {auth0Client.can('delete:movies') && <img src=\"images/delete.png\" alt=\"delete\" title=\"Delete this movie\" className=\"delete\" onClick={() => this.movieAction(q.id)('DELETE')}></img>}\r\n        </li>\r\n\t\t\t</ul>\r\n\t\t\t</div>\r\n\t\t\t</div>\r\n          ))}\r\n\t\t</div>\r\n\t\t</div>\r\n\t\t);\r\n\t  }\r\n  }\r\n\r\n  export default Movie;","import React, { Component } from 'react';\r\nimport $ from 'jquery';\r\nimport auth0Client from './Auth';\r\n\r\nclass Actor extends Component {\r\n\r\n  constructor(props){\r\n    super(props)\r\n    this.state = {\r\n      actors: []\r\n    }\r\n  }\r\n\r\n  async componentDidMount() {\r\n    await this.getActors();\r\n    await auth0Client.load_jwts();\r\n    await auth0Client.check_token_fragment();\r\n  }\r\n\r\n  getActors = () => {\r\n    $.ajax({\r\n      url: `https://castingya.herokuapp.com/actors`,\r\n      type: \"GET\",\r\n      success: (result) => {\r\n        this.setState({\r\n          actors: result.actors })\r\n        return;\r\n      },\r\n      error: (error) => {\r\n        alert('Unable to load actors. Please try your request again')\r\n        return;\r\n      }\r\n    })\r\n  }\r\n\r\n  actorAction = (id) => (action) => {\r\n    if(action === 'DELETE') {\r\n      if(window.confirm('are you sure you want to delete this actor?')) {\r\n        $.ajax({\r\n          url: `https://castingya.herokuapp.com/actors/${id}`,\r\n          headers: { 'Authorization': `Bearer ${auth0Client.getToken()}` },\r\n          type: \"DELETE\",\r\n          success: (result) => {\r\n            this.getActors();\r\n          },\r\n          error: (error) => {\r\n            alert('Unable to delete the actor. Please try your request again')\r\n            return;\r\n          }\r\n        })\r\n      }\r\n    }\r\n  }\r\n\r\n  updateActor = (id) => (event) => {\r\n    event.preventDefault();\r\n    $.ajax({\r\n      url: `https://castingya.herokuapp.com/actors/${id}`,\r\n      headers: { 'Authorization': `Bearer ${auth0Client.getToken()}` },\r\n      type: \"PATCH\",\r\n      dataType: 'json',\r\n      contentType: 'application/json',\r\n      data: JSON.stringify({\r\n        name: this.state.name,\r\n        age: this.state.age,\r\n        gender: this.state.gender,\r\n      }),\r\n      xhrFields: {\r\n        withCredentials: true\r\n      },\r\n      crossDomain: true,\r\n      success: (result) => {\r\n        window.location.reload(false);\r\n        return;\r\n      },\r\n      error: (error) => {\r\n        alert('Unable to update the actor. Please try your request again')\r\n        return;\r\n      }\r\n    })\r\n  }\r\n\r\n  navTo(uri){\r\n    window.location.href = window.location.origin + uri;\r\n  }\r\n\r\n  handleChange = (event) => {\r\n    this.setState({[event.target.name]: event.target.value})\r\n  }\r\n\r\n  showform = (location) => {\r\n  let marker = this.state.actors.filter(m => m.id === location.id)[0];\r\n  \r\n\tdocument.querySelector(\"#name\").value = marker.name;\r\n  document.querySelector(\"#age\").value = marker.age;\r\n  document.querySelector(\"#gender\").value = marker.gender;\r\n  const id = document.querySelector(\"#id\").value = marker.id;\r\n    $('.form-visible').show();\r\n    $('.dborder3').hide();\r\n    $('.button-visible').hide();\r\n    this.setState({ id });\r\n  }\r\n\r\n\trender() {\r\n    const { id } = this.state;\r\n\t\treturn (\t\t\r\n\t\t<div id=\"display\">\t\t\r\n\t\t<div className=\"dborder boxshw cardwi\">\r\n    {\r\n        auth0Client.can('post:actors') &&\r\n    <button type=\"button\" className='button-visible roles-visible' onClick={() => {this.navTo('/addactor')}} title=\"add a new actor\">Add a new actor</button>\r\n    }\r\n    <form className=\"form-view form-visible\" onSubmit={this.updateActor(id)}>\r\n              <label>\r\n                Name\r\n                <input type=\"text\" name=\"name\" id='name' onChange={this.handleChange} required />\r\n              </label>\r\n              <br></br>\r\n              <label>\r\n                Age\r\n                <input type=\"number\" name=\"age\" id=\"age\" onChange={this.handleChange} required />\r\n              </label>\r\n              <br></br>\r\n              <label>\r\n                Gender\r\n                <input type=\"text\" name=\"gender\" id=\"gender\" onChange={this.handleChange} required />\r\n              </label>\r\n              <br></br>\r\n              <label>\r\n                Id\r\n                <input type=\"text\" size='4' name=\"id\" id=\"id\" onChange={this.handleChange} readOnly />\r\n              </label>\r\n              <input type=\"submit\" className=\"button\" value=\"Save\" />\r\n            </form>\r\n\t\t{this.state.actors && this.state.actors.map((q, ind) => (\r\n\t\t\t<div key={q.id}>\r\n\t\t\t<div className=\"dborder3\">\t\r\n\t\t\t<ul className=\"listnone\">\r\n\t\t\t\t<li><span className=\"listbold\">Name</span>: <span id=\"name\">{q.name}</span>\r\n        {auth0Client.can('patch:actors') && <img src=\"images/edit.png\" alt=\"edit\" title=\"Edit this actor\" className=\"edit\" onClick={() => this.showform(q)}></img>}\r\n        </li>\r\n\t\t\t\t<li><span className=\"listbold\">Age</span>: <span id=\"age\">{q.age}</span></li>\t\r\n        <li><span className=\"listbold\">Gender</span>: <span id=\"gender\">{q.gender}</span>\r\n        {auth0Client.can('delete:actors') && <img src=\"images/delete.png\" alt=\"delete\" title=\"Delete this actor\" className=\"delete\" onClick={() => this.actorAction(q.id)('DELETE')}></img>}\r\n        </li>\t\t\t\r\n\t\t\t</ul>\r\n\t\t\t</div>\r\n\t\t\t</div>\r\n          ))}\r\n\t\t</div>\r\n\t\t</div>\r\n\t\t);\r\n\t  }\r\n  }\r\n\r\n  export default Actor;","import React, { Component } from 'react';\r\nimport auth0Client from './Auth';\r\n\r\nclass SideBar extends Component {\r\n\tnavTo(uri){\r\n\t\twindow.location.href = window.location.origin + uri;\r\n\t  }\r\n\trender(props) {\r\n\t\tconst signOut = () => {\r\n\t\t\tauth0Client.signOut();\r\n\t\t\tprops.history.replace('/');\r\n\t\t  };\r\n\t\treturn (\t\t\t\t\t\t\r\n\t\t\t\t<div className='options-box'>\t\t\t\r\n\t\t\t\t\t\t<div align=\"center\" role=\"listitem\" tabIndex=\"4\" className=\"sidebar-item\" onKeyPress={event => {if (event.key === \"Enter\") {this.navTo('')}}} onClick={() => {this.navTo('')}}> \r\n\t\t\t\t\t\t\t<strong>Movies</strong>\r\n\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t<img src=\"images/movies.png\" alt=\"movies\"></img>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div align=\"center\" role=\"listitem\" tabIndex=\"5\" className=\"sidebar-item\" onKeyPress={event => {if (event.key === \"Enter\") {this.navTo('/actors')}}} onClick={() => {this.navTo('/actors')}}> \r\n\t\t\t\t\t\t\t<strong>Actors</strong>\r\n\t\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t\t<img src=\"images/actors.jpg\" alt=\"actors\"></img>\r\n\t\t\t\t\t\t\t</div>\t \r\n\t\t<div align=\"center\" role=\"listitem\" tabIndex=\"6\" className=\"sidebar-item\"> \r\n\t\t\t\t\t\t\t{\r\n        !auth0Client.isAuthenticated() &&\r\n        <button onClick={auth0Client.signIn}>Sign In</button>\r\n      }\r\n      {\r\n        auth0Client.isAuthenticated() &&\r\n        <div>\r\n          <button onClick={() => {signOut()}}>Sign Out</button>\r\n\t\t  <label>{auth0Client.getProfile().name}</label>\r\n        </div>\r\n      }\r\n\t</div>\r\n\t\t </div>\r\n\t\t);\r\n\t  }\r\n  }\r\n\r\n  export default SideBar;","import React, { Component } from 'react';\r\n\r\nclass Foot extends Component {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<footer id=\"footer\">\r\n    \t\t\t<strong>Casting Agency</strong>. Made with <strong>React & Flask API</strong>\r\n     \t\t</footer>\r\n\t\t);\r\n\t  }\r\n  }\r\n\r\n  export default Foot;","import React, { Component } from 'react';\r\nimport $ from 'jquery';\r\nimport '../FormView.css';\r\nimport auth0Client from './Auth';\r\n\r\nclass AddMovie extends Component {\r\n  constructor(props){\r\n    super();\r\n    this.state = {\r\n      title: \"\",\r\n      release_date: \"\",\r\n    }\r\n  }\r\n\r\n  submitMovie = (event) => {\r\n    event.preventDefault();\r\n    $.ajax({\r\n      url: 'https://castingya.herokuapp.com/movies_new',\r\n      headers: { 'Authorization': `Bearer ${auth0Client.getToken()}` },\r\n      type: \"POST\",\r\n      dataType: 'json',\r\n      contentType: 'application/json',\r\n      data: JSON.stringify({\r\n        title: this.state.title,\r\n        release_date: this.state.release_date,\r\n      }),\r\n      xhrFields: {\r\n        withCredentials: true\r\n      },\r\n      crossDomain: true,\r\n      success: (result) => {\r\n        document.getElementById(\"add-movie-form\").reset();\r\n        return;\r\n      },\r\n      error: (error) => {\r\n        alert('Unable to add the movie. Please try your request again')\r\n        return;\r\n      }\r\n    })\r\n  }\r\n\r\n  handleChange = (event) => {\r\n    this.setState({[event.target.name]: event.target.value})\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div id=\"add-form\">\r\n        <h2>Add a new movie</h2>\r\n        <form className=\"form-view\" id=\"add-movie-form\" onSubmit={this.submitMovie}>\r\n          <label>\r\n            Title\r\n            <input type=\"text\" name=\"title\" onChange={this.handleChange} required/>\r\n          </label>\r\n          <br></br>\r\n          <label>\r\n            Release date\r\n            <input type=\"date\" name=\"release_date\" onChange={this.handleChange} required/>\r\n          </label>\r\n          <br></br>\r\n          <input type=\"submit\" className=\"button\" value=\"Submit\" />\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AddMovie;\r\n","import React, { Component } from 'react';\r\nimport $ from 'jquery';\r\nimport '../FormView.css';\r\nimport auth0Client from './Auth';\r\n\r\nclass AddActor extends Component {\r\n  constructor(props){\r\n    super();\r\n    this.state = {\r\n      name: \"\",\r\n      age: \"\",\r\n      gender: \"\",\r\n    }\r\n  }\r\n\r\n  submitActor = (event) => {\r\n    event.preventDefault();\r\n    $.ajax({\r\n      url: 'https://castingya.herokuapp.com/actors_new',                                        \r\n      headers: { 'Authorization': `Bearer ${auth0Client.getToken()}` },\r\n      type: \"POST\",\r\n      dataType: 'json',\r\n      contentType: 'application/json',\r\n      data: JSON.stringify({\r\n        name: this.state.name,\r\n        age: this.state.age,\r\n        gender: this.state.gender,\r\n      }),\r\n      xhrFields: {\r\n        withCredentials: true\r\n      },\r\n      crossDomain: true,\r\n      success: (result) => {\r\n        document.getElementById(\"add-actor-form\").reset();\r\n        return;\r\n      },\r\n      error: (error) => {\r\n        alert('Unable to add the actor. Please try your request again')\r\n        return;\r\n      }\r\n    })\r\n  }\r\n\r\n  handleChange = (event) => {\r\n    this.setState({[event.target.name]: event.target.value})\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div id=\"add-form\">\r\n        <h2>Add a new actor</h2>\r\n        <form className=\"form-view\" id=\"add-actor-form\" onSubmit={this.submitActor}>\r\n          <label>\r\n            Name\r\n            <input type=\"text\" name=\"name\" onChange={this.handleChange} required/>\r\n          </label>\r\n          <br></br>\r\n          <label>\r\n            Age\r\n            <input type=\"number\" name=\"age\" onChange={this.handleChange} required/>\r\n          </label>\r\n          <br></br>\r\n          <label>\r\n            Gender\r\n            <input type=\"text\" name=\"gender\" onChange={this.handleChange} required/>\r\n          </label>\r\n          <br></br>\r\n          <input type=\"submit\" className=\"button\" value=\"Submit\" />\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AddActor;\r\n","import React, {Component} from 'react';\nimport {withRouter} from 'react-router-dom';\nimport auth0Client from './Auth';\n\nclass Callback extends Component {\n  async componentDidMount() {\n    await auth0Client.handleAuthentication();\n    await auth0Client.load_jwts();\n    await auth0Client.check_token_fragment();\n    \n    this.props.history.replace('/');\n  }\n\n  render() {\n    return (\n      <p>Loading profile...</p>\n    );\n  }\n}\n\nexport default withRouter(Callback);\n","import React, { Component } from 'react';\nimport {BrowserRouter as Router, Route, Switch, withRouter} from 'react-router-dom';\nimport './App.css';\nimport './responsive.css';\nimport Head from './components/header';\nimport Movie from './components/movies';\nimport Actor from './components/actors';\nimport SideBar from './components/sidebar';\nimport Foot from './components/footer';\nimport AddMovie from './components/addMovie';\nimport AddActor from './components/addActor';\nimport auth0Client from './components/Auth';\nimport Callback from './components/Callback';\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      checkingSession: true,\n    }\n  }\n  async componentDidMount() {\n    if (this.props.location.pathname === './components/callback') return;\n    try {\n      await auth0Client.silentAuth();\n      this.forceUpdate();\n    } catch (err) {\n      if (err.error !== 'login_required') console.log(err.error);\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        <Head/>   \n        <Router>\n        <Switch>\n          <Route path=\"/\" exact component={Movie} />\n          <Route path=\"/actors\" component={Actor} />\n          <Route path=\"/addmovie\" component={AddMovie} />\n          <Route path=\"/addactor\" component={AddActor} />\n          <Route exact path='/callback' component={Callback}/>\n          <Route component={Movie} />\n        </Switch>\n      </Router>    \n        <SideBar/>\n        <Foot/>\n      </div>\n    );\n  }\n}\n\nexport default withRouter(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {BrowserRouter} from 'react-router-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\n// ReactDOM.render(<App />, document.getElementById('root'));\nReactDOM.render(\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  , document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.register();\n"],"sourceRoot":""}